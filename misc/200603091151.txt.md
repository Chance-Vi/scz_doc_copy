标题: 修改三个字节去除BitComet.exe 0.6x的小广告

创建: 2006-03-09 11:51
更新: 2006-05-31 08:55
链接: http://scz.617.cn/misc/200603091151.txt

以前一直用BitComet.exe 0.56，也不记得是否有小广告了。后来emule@SMTH提供了
去广告版BitComet.exe 0.6x，我才知道原来这玩意有小广告。由于在下天资愚钝，
即使用了去广告版还是没能注意到区别何在。经birdnico@SMTH点拨，原来这个小广
告位于任务摘要下方，是个小图片，带了超链。去广告版的这个位置是一片空白。

昨天有点好奇，就用IDA Pro逆了一下原版BitComet.exe，生成一个7MB的idb文件，
实在没心情看下去。今早又用OllyDbg动态跟了一下原版BitComet.exe，还是乱，懒
得弄清楚去广告原理了。

不过从可操作层面上有点收获，主要是找三个字符串:

L"PAYPAL.GIF"

    50 00 41 00 59 00 50 00 41 00 4C 00 2E 00 47 00 49 00 46 00 00 00

"index.dat"

    69 6E 64 65 78 2E 64 61 74 00

"g..."

    67 22 E3 6B A3 99 DA 00

第一个字符串是Unicode串，所以我用L""表示了，后两个都是ASCIZ串。简单点说，
只要让这三个字符串成为空串即可去除小广告。以C语言的视角来讲，让一个字符串
成为空串就是让第一个字符成为NUL字符，Unicode就是连续两个0x00，ASCII就是一
个0x00。

用UltraEdit打开原版BitComet.exe，Ctrl-F进行二进制搜索，分别找前述三组字节
流(不是字符串搜索)，然后分别将定位后的第一个字节改为0x00，存盘即可。

测试了0.62至0.68版，不清楚是否适用于其它版本。

不知去广告版的最初破解源自何人，也不知TA是如何从无到有分析出去广告之法的。
本人对破解完全不擅长，以上文字纯属一时好奇之下的狗尾续貂，见谅则个。
